<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> RANDOM IMAGE </title>
        <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        font-family: "Menlo", "Monaco", "Consolas", "Courier New", monospace;
        background-color: #000000;
        text-align: center;
        color: #00ff00;
        margin: 0;
        padding: 0;
      }
      header, main, footer {
        padding: 1rem;
      }
      header {
        background-color: #0d0d0d;
      }
      nav ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      nav li {
        display: inline-block;
      }
      nav li + li::before {
        content: "|";
        margin: 0 0.5em;
      }
      a {
        color: #39ff14; /* Neon Green */
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
      img {
        max-width: 50%;
        vertical-align: middle;
        border-radius: 8px;
        margin-top: 1rem;
      }
      footer {
        background-color: #0d0d0d;
        color: white;
        margin-top: 2rem;
      }
    </style>
  </head>
  <body>
    <header>
      <nav>
        <ul>
          <li><a href="/">home üè†</a></li>
          <li><a href="/emobility.html">e-mobility ‚ö°Ô∏è</a></li>
          <li><a href="/fambam.html">fam üßë‚Äçüßë‚Äçüßí‚Äçüßí bam</a></li>
          <li><a href="/nft.html">nft ü™ô ‚Çø</a></li>
          <li><a href="#" onclick="if(confirm('üö® Redirecting to LinkedIn. Do you want to proceed? üö®')) { window.open('https://www.linkedin.com/in/sweluhu/', '_blank'); }">linkedIn üñáÔ∏è</a></li>
          <li><a href="#" onclick="window.open('resume.html', '_blank'); return false;">resume üìÑ</a></li>
          <li><a href="#" onclick="if(confirm('üö® Opening your default email client. Do you want to proceed? üö®')) { window.location.href='mailto:jeluhu@gmail.com'; } return false;">contact ‚úâÔ∏è</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <h2> RANDOM IMAGE </h2>
      <img id="randomImg" src="https://picsum.photos/600" alt="picsum" style="max-width:50%;border-radius:8px;margin-top:1rem;">
      <div id="meta" style="margin-top:1rem;color:#9f9"></div>

      <script>
        window.addEventListener('DOMContentLoaded', async () => {
          const img = document.getElementById('randomImg');
          const meta = document.getElementById('meta');

          try {
        // Request the image to get the final redirected URL
        const res = await fetch(img.src);
        const finalUrl = res.url;
        // Try to extract the picsum id from the final URL
        const match = finalUrl.match(/\/id\/(\d+)\//);
        if (!match) {
          meta.textContent = 'Could not determine image id from redirected URL: ' + finalUrl;
          img.src = finalUrl; // still show the image
          return;
        }

        const id = match[1];
        const infoUrl = `https://picsum.photos/id/${id}/info`;
        const infoRes = await fetch(infoUrl);
        if (!infoRes.ok) throw new Error('info endpoint returned ' + infoRes.status);
        const info = await infoRes.json();

        // Display metadata
        meta.innerHTML = ''
          + `<p>Author: <a href="${info.url}" target="_blank" rel="noopener noreferrer">${info.author}</a></p>`
          + `<p>Original size: ${info.width} √ó ${info.height}</p>`
          // Camera metadata info are available for images sourced from Unsplash
          + (info.camera ? `<p>Camera: ${info.camera}</p>` : '')
            + (info.location && info.location.name ? `<p>Location: ${info.location.name}</p>` : '')
            // aperture, focal_length, iso, shutter_speed
            + (info.aperture ? `<p>Aperture: ${info.aperture}</p>` : '')
            + (info.focal_length ? `<p>Focal Length: ${info.focal_length}</p>` : '')
            + (info.iso ? `<p>ISO: ${info.iso}</p>` : '')
            + (info.shutter_speed ? `<p>Shutter Speed: ${info.shutter_speed}</p>` : '') 
          // Refresh button to get a new random image
          + `<button id="refreshBtn" style="margin-top:1rem;padding:0.5em 1em;background:#222;color:#39ff14;border:none;border-radius:4px;cursor:pointer;">üîÑ</button>`
          ;
        document.getElementById('refreshBtn').addEventListener('click', () => {
          // Reload the page to get a new random image
          window.location.reload();
        });

        // Ensure the shown <img> uses the final URL (preserves displayed picture)
        img.src = finalUrl;
          } catch (err) {
        meta.textContent = 'Could not fetch metadata: ' + err.message;
          }
        });
      </script>
    </main>
    <footer>
      <tiny>Human-made in Chicago ‚ù§Ô∏è</tiny>
    </footer>
  </body>
</html>