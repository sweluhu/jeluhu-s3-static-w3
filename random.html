<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> RANDOM IMAGE </title>
        <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        font-family: "Menlo", "Monaco", "Consolas", "Courier New", monospace;
        background-color: #000000;
        text-align: center;
        color: #00ff00;
        margin: 0;
        padding: 0;
      }
      header, main, footer {
        padding: 1rem;
      }
      header {
        background-color: #0d0d0d;
      }
      nav ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      nav li {
        display: inline-block;
      }
      nav li + li::before {
        content: "|";
        margin: 0 0.5em;
      }
      a {
        color: #39ff14; /* Neon Green */
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
      img {
        max-width: 50%;
        vertical-align: middle;
        border-radius: 8px;
        margin-top: 1rem;
      }
      footer {
        background-color: #0d0d0d;
        color: white;
        margin-top: 2rem;
      }
    </style>
  </head>
  <body>
    <header>
      <nav>
        <ul>
          <li><a href="/">home üè†</a></li>
          <li><a href="/emobility.html">e-mobility ‚ö°Ô∏è</a></li>
          <li><a href="/fambam.html">fam üßë‚Äçüßë‚Äçüßí‚Äçüßí bam</a></li>
          <li><a href="/nft.html">nft ü™ô ‚Çø</a></li>
          <li><a href="#" onclick="if(confirm('üö® Redirecting to LinkedIn. Do you want to proceed? üö®')) { window.open('https://www.linkedin.com/in/sweluhu/', '_blank'); }">linkedIn üñáÔ∏è</a></li>
          <li><a href="#" onclick="window.open('resume.html', '_blank'); return false;">resume üìÑ</a></li>
          <li><a href="#" onclick="if(confirm('üö® Opening your default email client. Do you want to proceed? üö®')) { window.location.href='mailto:jeluhu@gmail.com'; } return false;">contact ‚úâÔ∏è</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <h2> RANDOM IMAGE </h2>
      <img id="randomImg" alt="picsum" style="max-width:50%;border-radius:8px;margin-top:1rem;min-height:300px;background:#111;">
      <div id="meta" style="margin-top:1rem;color:#9f9"></div>
      <button id="refreshBtn" style="margin-top:1rem;padding:0.5em 1em;background:#222;color:#39ff14;border:none;border-radius:4px;cursor:pointer;">üîÑ Refresh</button>

      <script>
        const img = document.getElementById('randomImg');
        const meta = document.getElementById('meta');
        const refreshBtn = document.getElementById('refreshBtn');

        async function loadRandomImage() {
          meta.textContent = 'Loading metadata...';
          img.style.opacity = '0.5';
          
          // Use a unique URL to prevent caching of the redirect
          const targetUrl = 'https://picsum.photos/600?random=' + Date.now();

          try {
            // Fetch to get the final URL and ID. 
            // Using GET instead of HEAD as it's more reliable for redirects/CORS in some envs.
            const res = await fetch(targetUrl);
            const finalUrl = res.url;
            
            // Set image source to the resolved URL so it matches
            img.src = finalUrl;
            img.onload = () => img.style.opacity = '1';

            // Get ID from header or URL
            let id = res.headers.get('picsum-id');
            if (!id) {
              const match = finalUrl.match(/\/id\/(\d+)\//);
              if (match) id = match[1];
            }

            if (id) {
              const infoRes = await fetch(`https://picsum.photos/id/${id}/info`);
              if (infoRes.ok) {
                const info = await infoRes.json();
                meta.innerHTML = `
                  <p>Author: <a href="${info.url}" target="_blank" rel="noopener noreferrer" style="color:#39ff14;">${info.author}</a></p>
                  <p>Original size: ${info.width} √ó ${info.height}</p>
                  <p><a href="${info.download_url}" target="_blank" rel="noopener noreferrer" style="color:#39ff14;">Download Original</a></p>
                `;
              } else {
                meta.textContent = 'Could not fetch info for ID: ' + id;
              }
            } else {
              meta.textContent = 'Could not determine image ID.';
            }
          } catch (err) {
            // Fallback if fetch fails (e.g. CORS)
            console.error('Metadata fetch failed:', err);
            meta.textContent = 'Metadata unavailable (CORS or network error).';
            img.src = targetUrl;
            img.onload = () => img.style.opacity = '1';
          }
        }

        refreshBtn.addEventListener('click', loadRandomImage);
        
        // Initial load
        loadRandomImage();
      </script>
    </main>
    <footer>
      <tiny>Made in Chicago ‚ù§Ô∏è</tiny>
    </footer>
  </body>
</html>